<header
    class="flex justify-between items-center p-4 bg-gray-100 dark:bg-gray-800 transition-colors duration-300 shadow-md"
>
    <nav class="flex justify-between items-center w-full px-4">
        <!-- <div class="shrink-0"> -->
        <div>
            <a href="/">
                <div
                    class="text-2xl font-bold text-transparent bg-clip-text bg-linear-to-r from-blue-500 to-purple-500"
                >
                    GG
                </div>
            </a>
        </div>
        <div class="hidden md:flex grow justify-end mr-8 space-x-6">
            <a
                href="/riemannian-geometry"
                class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-lg font-medium transition-colors"
                title="Riemannian Geometry"
            >
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                        stroke="currentColor"
                        stroke-width="1.5"></path>
                    <path
                        d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z"
                        stroke="currentColor"
                        stroke-width="1.5"></path>
                </svg>
            </a>
            <a
                href="/codeforces"
                class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-lg font-medium transition-colors"
                title="Codeforces"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"
                    ></path>
                </svg>
            </a>
            <!-- <a
                href="/blog"
                class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-lg font-medium transition-colors"
                >Blog</a
            > -->
            <a
                href="/about"
                class="text-gray-700 dark:text-gray-300 hover:text-gray-900 dark:hover:text-white text-lg font-medium transition-colors"
                title="About"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                </svg>
            </a>
        </div>
        <div class="shrink-0 flex items-center space-x-2 md:space-x-4">
            <div class="relative">
                <button
                    id="search-icon"
                    class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        class="h-6 w-6"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                    </svg>
                </button>
                <div id="search-container" class="absolute right-0 top-full mt-2 w-64 hidden z-50">
                    <input
                        id="search-input"
                        type="text"
                        placeholder="Search..."
                        class="w-full p-2 rounded-md bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 shadow-lg text-gray-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-blue-500"
                    />
                </div>
            </div>
            <button
                id="theme-switcher"
                class="p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors"
                aria-label="Toggle Dark Mode"
            >
                <!-- Sun icon -->
                <svg
                    id="theme-sun"
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 hidden dark:block"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
                    ></path>
                </svg>
                <!-- Moon icon -->
                <svg
                    id="theme-moon"
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6 block dark:hidden"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"
                    ></path>
                </svg>
            </button>
            <!-- Mobile menu button -->
            <button
                id="mobile-menu-btn"
                class="md:hidden p-2 rounded-md hover:bg-gray-200 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-300 transition-colors"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="h-6 w-6"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"
                    ></path>
                </svg>
            </button>
        </div>
    </nav>
    <!-- Mobile Menu -->
    <div
        id="mobile-menu"
        class="hidden absolute top-16 left-0 w-full bg-gray-100 dark:bg-gray-800 shadow-md md:hidden z-40"
    >
        <div class="flex flex-col p-4 space-y-2">
            <a
                href="/riemannian-geometry"
                class="p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md flex items-center space-x-2"
                ><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12 22C17.5228 22 22 17.5228 22 12C22 6.47715 17.5228 2 12 2C6.47715 2 2 6.47715 2 12C2 17.5228 6.47715 22 12 22Z"
                        stroke="currentColor"
                        stroke-width="1.5"></path>
                    <path
                        d="M12 17C14.7614 17 17 14.7614 17 12C17 9.23858 14.7614 7 12 7C9.23858 7 7 9.23858 7 12C7 14.7614 9.23858 17 12 17Z"
                        stroke="currentColor"
                        stroke-width="1.5"></path>
                </svg>
                <span>Riemannian Geometry</span>
            </a>
            <a
                href="/codeforces"
                class="p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md flex items-center space-x-2"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M6.75 7.5l3 2.25-3 2.25m4.5 0h3m-9 8.25h13.5A2.25 2.25 0 0021 18V6a2.25 2.25 0 00-2.25-2.25H5.25A2.25 2.25 0 003 6v12a2.25 2.25 0 002.25 2.25z"
                    ></path>
                </svg>
                <span>Codeforces</span>
            </a>
            <a
                href="/blog"
                class="block p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md"
                >Blog</a
            >
            <a
                href="/about"
                class="p-2 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700 rounded-md flex items-center space-x-2"
            >
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke-width="1.5"
                    stroke="currentColor"
                    class="w-6 h-6"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        d="M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0z"
                    ></path>
                </svg>
                <span>About</span>
            </a>
        </div>
    </div>
</header>

<script>
    const searchIcon = document.getElementById("search-icon");
    const searchInput = document.getElementById("search-input");
    const searchContainer = document.getElementById("search-container");
    const themeSwitcher = document.getElementById("theme-switcher");
    const mobileMenuBtn = document.getElementById("mobile-menu-btn");
    const mobileMenu = document.getElementById("mobile-menu");

    // Search Logic
    if (searchIcon && searchContainer && searchInput) {
        searchIcon.addEventListener("click", (event) => {
            event.stopPropagation();
            searchContainer.classList.toggle("hidden");
            if (!searchContainer.classList.contains("hidden")) {
                searchInput.focus();
            }
        });

        document.addEventListener("click", (event) => {
            if (
                !searchContainer.contains(event.target as Node) &&
                !searchIcon.contains(event.target as Node)
            ) {
                searchContainer.classList.add("hidden");
            }
        });
    }

    // Theme Logic
    if (themeSwitcher) {
        themeSwitcher.addEventListener("click", () => {
            document.documentElement.classList.toggle("dark");
            const isDark = document.documentElement.classList.contains("dark");
            localStorage.setItem("theme", isDark ? "dark" : "light");
        });
    }

    // Mobile Menu Logic
    if (mobileMenuBtn && mobileMenu) {
        mobileMenuBtn.addEventListener("click", () => {
            mobileMenu.classList.toggle("hidden");
        });
    }
</script>
