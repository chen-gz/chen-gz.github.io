---
import Layout from './Layout.astro';
import Sidebar from '../components/Sidebar.astro';
import { CollectionEntry } from 'astro:content';

type AnyCollectionEntry = CollectionEntry<'blog' | 'riemannian-geometry'>;

interface Props {
  chapters: AnyCollectionEntry[];
  currentPage: AnyCollectionEntry;
  collection: 'blog' | 'riemannian-geometry';
}

const { chapters, currentPage, collection } = Astro.props;
---

<Layout>
  <div class="flex flex-col md:flex-row">
    <aside class="w-full md:w-80 md:flex-shrink-0 p-4">
      <Sidebar chapters={chapters} currentPage={currentPage} collection={collection} />
    </aside>
    <main class="w-full p-4">
      <div class="prose prose-custom dark:prose-invert max-w-none mx-auto">
        <slot />
      </div>
    </main>
  </div>
</Layout>